import{f as p,c as _,a as l,u as C,w as m,F as g,o as v,d as V,b as e,r as $,t as o,n as A,g as M,h as U,v as B,i as y,G as x}from"./app-JST4J_vd.js";import{_ as D}from"./AdminLayout-DCCc3JoY.js";import{_ as N,a as S}from"./SecondaryButton-kLcq2NDp.js";import{_ as r,a as c}from"./TextInput-DHDJamkN.js";import{P as j}from"./PrimaryButton-fAnTTxPx.js";import{_ as q}from"./Pagination-habratwy.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const P={class:"p-6 bg-white rounded-lg shadow"},E={class:"flex justify-between items-center mb-6"},F={class:"overflow-x-auto"},G={class:"min-w-full divide-y divide-gray-200"},L={class:"bg-white divide-y divide-gray-200"},R={class:"px-6 py-4 whitespace-nowrap"},z={class:"flex items-center"},I={class:"h-10 w-10 flex-shrink-0"},O=["src"],T={class:"ml-4"},H={class:"text-sm font-medium text-gray-900"},J={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},K={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Q={class:"px-6 py-4 whitespace-nowrap"},W={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},X=["onClick"],Y=["onClick"],Z={class:"mt-6"},ee={class:"p-6"},te={class:"text-lg font-medium text-gray-900"},ae={class:"space-y-4"},se={class:"flex items-center"},le={class:"mt-6 flex justify-end"},ce={__name:"Cars",props:{cars:Object},setup(f){const n=p(!1),d=p(null),s=p({brand:"",model:"",price_per_day:"",image:"",is_available:!0});function b(i){d.value=i,s.value={brand:i.brand,model:i.model,price_per_day:i.price_per_day,image:i.image,is_available:i.is_available},n.value=!0}function u(){n.value=!1,d.value=null,s.value={brand:"",model:"",price_per_day:"",image:"",is_available:!0}}function h(){d.value?x.put(`/admin/cars/${d.value.id}`,s.value,{onSuccess:()=>u()}):x.post("/admin/cars",s.value,{onSuccess:()=>u()})}function w(i){confirm("Are you sure you want to delete this car?")&&x.delete(`/admin/cars/${i.id}`)}return(i,a)=>(v(),_(g,null,[l(C(V),{title:"Manage Cars"}),l(D,null,{default:m(()=>[e("div",P,[e("div",E,[a[6]||(a[6]=e("h1",{class:"text-2xl font-semibold text-gray-900"},"Cars",-1)),e("button",{onClick:a[0]||(a[0]=t=>n.value=!0),class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition"}," Add New Car ")]),e("div",F,[e("table",G,[a[7]||(a[7]=e("thead",null,[e("tr",null,[e("th",{class:"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Car "),e("th",{class:"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Model "),e("th",{class:"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Price/Day "),e("th",{class:"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),e("th",{class:"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",L,[(v(!0),_(g,null,$(f.cars.data,t=>(v(),_("tr",{key:t.id},[e("td",R,[e("div",z,[e("div",I,[e("img",{src:t.image,class:"h-10 w-10 rounded-full object-cover"},null,8,O)]),e("div",T,[e("div",H,o(t.brand),1)])])]),e("td",J,o(t.model),1),e("td",K," $"+o(t.price_per_day),1),e("td",Q,[e("span",{class:A(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",t.is_available?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},o(t.is_available?"Available":"Rented"),3)]),e("td",W,[e("button",{onClick:k=>b(t),class:"text-indigo-600 hover:text-indigo-900 mr-3"}," Edit ",8,X),e("button",{onClick:k=>w(t),class:"text-red-600 hover:text-red-900"}," Delete ",8,Y)])]))),128))])])]),e("div",Z,[l(q,{links:f.cars.links},null,8,["links"])])]),l(N,{show:n.value,onClose:u},{default:m(()=>[e("div",ee,[e("h2",te,o(d.value?"Edit Car":"Add New Car"),1),e("form",{onSubmit:M(h,["prevent"]),class:"mt-6"},[e("div",ae,[e("div",null,[l(r,{for:"brand",value:"Brand"}),l(c,{id:"brand",modelValue:s.value.brand,"onUpdate:modelValue":a[1]||(a[1]=t=>s.value.brand=t),type:"text",class:"mt-1 block w-full",required:""},null,8,["modelValue"])]),e("div",null,[l(r,{for:"model",value:"Model"}),l(c,{id:"model",modelValue:s.value.model,"onUpdate:modelValue":a[2]||(a[2]=t=>s.value.model=t),type:"text",class:"mt-1 block w-full",required:""},null,8,["modelValue"])]),e("div",null,[l(r,{for:"price_per_day",value:"Price per Day"}),l(c,{id:"price_per_day",modelValue:s.value.price_per_day,"onUpdate:modelValue":a[3]||(a[3]=t=>s.value.price_per_day=t),type:"number",class:"mt-1 block w-full",required:""},null,8,["modelValue"])]),e("div",null,[l(r,{for:"image",value:"Image URL"}),l(c,{id:"image",modelValue:s.value.image,"onUpdate:modelValue":a[4]||(a[4]=t=>s.value.image=t),type:"text",class:"mt-1 block w-full",required:""},null,8,["modelValue"])]),e("div",se,[U(e("input",{id:"is_available","onUpdate:modelValue":a[5]||(a[5]=t=>s.value.is_available=t),type:"checkbox",class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:ring-indigo-500"},null,512),[[B,s.value.is_available]]),l(r,{for:"is_available",value:"Available",class:"ml-2"})])]),e("div",le,[l(S,{onClick:u,class:"mr-3"},{default:m(()=>a[8]||(a[8]=[y(" Cancel ")])),_:1}),l(j,{disabled:s.value.processing},{default:m(()=>[y(o(d.value?"Update":"Create"),1)]),_:1},8,["disabled"])])],32)])]),_:1},8,["show"])]),_:1})],64))}};export{ce as default};
